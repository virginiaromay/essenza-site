<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contacto · Essenza Studio</title>

  <!-- CSS principal del sitio -->
  <link rel="stylesheet" href="../styles.css?v=9" />
</head>

<body>

  <!-- Header fijo igual al sitio -->
  <header class="site-header">
    <div class="container nav">
      <a class="logo-link" href="/" aria-label="Essenza">
        <img class="logo" src="../assets/images/logo.png" alt="Essenza logo">
      </a>
      <button class="menu-toggle" aria-label="Abrir menú" aria-expanded="false">☰</button>
      <nav class="menu" id="menu">
        <a href="/#inicio">Inicio</a>
        <a href="/#quienes">Quiénes somos</a>
        <a href="/#servicios">Servicios</a>
        <a href="/#proyectos">Proyectos</a>
        <a href="/#contacto" class="btn btn-small">Contacto</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container" style="max-width: 680px;">

        <p style="margin-bottom: .8rem;">
          <a href="/" style="text-decoration:none; font-size:.9rem;">← Volver a inicio</a>
        </p>

        <h2>Cuéntanos sobre tu proyecto</h2>
        <p id="intro-text" class="lede">
      Déjanos tus datos y una breve descripción de tu espacio. Te contactaremos para coordinar una reunión y ver cómo podemos ayudarte.
        </p>
        <!-- FORMULARIO CORRECTO (sin action ni method) -->
        <form id="contact-form" class="contact-form">

          <label>
            Nombre
            <input type="text" name="nombre" required>
          </label>

          <label>
            Email
            <input type="email" name="email" required>
          </label>

          <label>
            Teléfono
            <input type="text" name="telefono">
          </label>

          <label>
            ¿Qué tipo de proyecto tienes?
            <select name="tipo_proyecto">
              <option value="">Selecciona una opción</option>
              <option value="residencial">Diseño interior residencial</option>
              <option value="comercial">Diseño interior comercial</option>
              <option value="asesoria">Asesoría en decoración</option>
              <option value="remodelacion">Remodelación</option>
              <option value="otro">Otro</option>
            </select>
          </label>

          <label>
            Cuéntanos un poco más
            <textarea name="mensaje" rows="5" required
              placeholder="Metros aprox, ambientes, estilo que te gusta, ciudad, etc."></textarea>
          </label>

          <button type="submit" class="btn">Enviar mensaje</button>
        </form>

        <!-- MENSAJE DE ÉXITO -->
        <div id="form-success" style="display:none; margin-top:20px; font-size:1.1rem; color:#012951;">
          ¡Gracias! Hemos recibido tu mensaje y te contactaremos muy pronto.
        </div>

      </div>
    </section>
  </main>

  <!-- Script principal del sitio -->
  <script src="../script.js"></script>

  <!-- Script del formulario -->
  <script src="../script.js"></script>

<script>
  const form = document.getElementById("contact-form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = new FormData(form);
    const endpoint = "https://formspree.io/f/mgvgyedp";

    const response = await fetch(endpoint, {
      method: "POST",
      body: data,
      headers: { "Accept": "application/json" }
    });

    if (response.ok) {
      form.style.display = "none";
      document.getElementById("intro-text").style.display = "none";

      const successMsg = document.getElementById("form-success");
      successMsg.style.display = "block";

      // activa la animación
      setTimeout(() => {
        successMsg.classList.add("show");
      }, 10);

    } else {
      alert("Hubo un error al enviar el mensaje. Intenta nuevamente.");
    }
  });
</script>

</body>
</html>
